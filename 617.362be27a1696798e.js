"use strict";(self.webpackChunkpatatas_to_go=self.webpackChunkpatatas_to_go||[]).push([[617],{617:(le,U,u)=>{u.r(U),u.d(U,{AdminModule:()=>v});var p=u(6895),b=u(9965),e=u(8256),w=u(7556);class d{constructor(n,t){this.auth=n,this.router=t}canActivate(n,t){return this.auth.IsLoggedIn(),!!this.auth.IsLoggedIn()||(this.router.navigate(["/login"]),!1)}}d.\u0275fac=function(n){return new(n||d)(e.LFG(w.e),e.LFG(b.F0))},d.\u0275prov=e.Yz7({token:d,factory:d.\u0275fac});var L=u(529),T=u(2340);class h{constructor(n){this.http=n}getToken(){const n=JSON.parse(localStorage.getItem("Token")||"{}"),t=new L.WM({"Content-Type":"application/json",Authorization:`Bearer ${n}`});this.options={headers:t}}getSubscribers(n){return this.getToken(),this.http.get(`${T.N.ApiUrl}subscribers/?count=8&page=${n}`,this.options)}getSubscriber(n){return this.getToken(),this.http.get(`${T.N.ApiUrl}subscribers/${n}`,this.options)}getCodes(){return this.getToken(),this.http.get(`${T.N.ApiUrl}countries/`,this.options)}updateSubscriber(n,t){return this.getToken(),this.http.put(`${T.N.ApiUrl}subscribers/${t}`,n,this.options)}createSubscriber(n){return console.log(n),this.getToken(),this.http.post(`${T.N.ApiUrl}subscribers/`,n,this.options)}}function E(i,n){if(1&i&&(e.TgZ(0,"li",10)(1,"a",11),e._uU(2),e.qZA()()),2&i){const t=n.$implicit;e.xp6(1),e.Q6J("routerLink",t.path),e.xp6(1),e.Oqu(t.name)}}h.\u0275fac=function(n){return new(n||h)(e.LFG(L.eN))},h.\u0275prov=e.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"});class f{constructor(n,t){this.authenticationService=n,this.router=t,this.rutas=[{name:"Home",path:"/admin"},{name:"Add subscribers",path:"/admin/add/subscriber"}]}logout(){this.authenticationService.logout(),this.router.navigate(["/auth/login"])}}function J(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.previous())})("click",function(){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.previous())}),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.previousLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function M(i,n){if(1&i&&(e.TgZ(0,"span",14),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.previousLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function D(i,n){if(1&i&&(e.TgZ(0,"li",9),e.YNc(1,J,4,2,"a",10),e.YNc(2,M,4,2,"span",11),e.qZA()),2&i){e.oxw(2);const t=e.MAs(1);e.ekj("disabled",t.isFirstPage()),e.xp6(1),e.Q6J("ngIf",1<t.getCurrent()),e.xp6(1),e.Q6J("ngIf",t.isFirstPage())}}function O(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t);const a=e.oxw().$implicit;e.oxw(2);const o=e.MAs(1);return e.KtG(o.setCurrent(a.value))})("click",function(){e.CHM(t);const a=e.oxw().$implicit;e.oxw(2);const o=e.MAs(1);return e.KtG(o.setCurrent(a.value))}),e.TgZ(1,"span",13),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"number"),e.qZA()()}if(2&i){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(2),e.hij("",r.screenReaderPageLabel," "),e.xp6(2),e.Oqu("..."===t.label?t.label:e.xi3(5,2,t.label,""))}}function Y(i,n){if(1&i&&(e.ynx(0),e.TgZ(1,"span",16)(2,"span",13),e._uU(3),e.qZA(),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"number"),e.qZA()(),e.BQk()),2&i){const t=e.oxw().$implicit,r=e.oxw(2);e.xp6(3),e.hij("",r.screenReaderCurrentLabel," "),e.xp6(2),e.Oqu("..."===t.label?t.label:e.xi3(6,2,t.label,""))}}function B(i,n){if(1&i&&(e.TgZ(0,"li"),e.YNc(1,O,6,5,"a",10),e.YNc(2,Y,7,5,"ng-container",15),e.qZA()),2&i){const t=n.$implicit;e.oxw(2);const r=e.MAs(1);e.ekj("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),e.xp6(1),e.Q6J("ngIf",r.getCurrent()!==t.value),e.xp6(1),e.Q6J("ngIf",r.getCurrent()===t.value)}}function z(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("keyup.enter",function(){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.next())})("click",function(){e.CHM(t),e.oxw(3);const a=e.MAs(1);return e.KtG(a.next())}),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.nextLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function Q(i,n){if(1&i&&(e.TgZ(0,"span",14),e._uU(1),e.TgZ(2,"span",13),e._uU(3),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.nextLabel," "),e.xp6(2),e.Oqu(t.screenReaderPageLabel)}}function R(i,n){if(1&i&&(e.TgZ(0,"li",17),e.YNc(1,z,4,2,"a",10),e.YNc(2,Q,4,2,"span",11),e.qZA()),2&i){e.oxw(2);const t=e.MAs(1);e.ekj("disabled",t.isLastPage()),e.xp6(1),e.Q6J("ngIf",!t.isLastPage()),e.xp6(1),e.Q6J("ngIf",t.isLastPage())}}function $(i,n){if(1&i&&(e.TgZ(0,"ul",4),e.YNc(1,D,3,4,"li",5),e.TgZ(2,"li",6),e._uU(3),e.qZA(),e.YNc(4,B,3,6,"li",7),e.YNc(5,R,3,4,"li",8),e.qZA()),2&i){const t=e.oxw(),r=e.MAs(1);e.ekj("responsive",t.responsive),e.xp6(1),e.Q6J("ngIf",t.directionLinks),e.xp6(2),e.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),e.xp6(1),e.Q6J("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),e.xp6(1),e.Q6J("ngIf",t.directionLinks)}}f.\u0275fac=function(n){return new(n||f)(e.Y36(w.e),e.Y36(b.F0))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-navbar-admin"]],decls:12,vars:1,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngFor","ngForOf"],[1,"d-flex"],["type","submit",1,"btn","btn-outline-danger",3,"click"],[1,"nav-item"],[1,"nav-link","active",3,"routerLink"]],template:function(n,t){1&n&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),e._uU(3,"PatatasToGo"),e.qZA(),e.TgZ(4,"button",3),e._UZ(5,"span",4),e.qZA(),e.TgZ(6,"div",5)(7,"ul",6),e.YNc(8,E,3,2,"li",7),e.qZA(),e.TgZ(9,"div",8)(10,"button",9),e.NdJ("click",function(){return t.logout()}),e._uU(11," Logout "),e.qZA()()()()()),2&n&&(e.xp6(8),e.Q6J("ngForOf",t.rutas))},dependencies:[p.sg,b.rH]});class I{constructor(){this.change=new e.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(n){return null==n.id&&(n.id=this.DEFAULT_ID),this.instances[n.id]?this.updateInstance(n):(this.instances[n.id]=n,!0)}updateInstance(n){let t=!1;for(let r in this.instances[n.id])n[r]!==this.instances[n.id][r]&&(this.instances[n.id][r]=n[r],t=!0);return t}getCurrentPage(n){return this.instances[n]?this.instances[n].currentPage:1}setCurrentPage(n,t){if(this.instances[n]){let r=this.instances[n];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[n].currentPage=t,this.change.emit(n))}}setTotalItems(n,t){this.instances[n]&&0<=t&&(this.instances[n].totalItems=t,this.change.emit(n))}setItemsPerPage(n,t){this.instances[n]&&(this.instances[n].itemsPerPage=t,this.change.emit(n))}getInstance(n=this.DEFAULT_ID){return this.instances[n]?this.clone(this.instances[n]):{}}clone(n){var t={};for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t}}const G=Number.MAX_SAFE_INTEGER;let j=(()=>{class i{constructor(t){this.service=t,this.state={}}transform(t,r){if(!(t instanceof Array)){let x=r.id||this.service.defaultId();return this.state[x]?this.state[x].slice:t}let c,g,a=r.totalItems&&r.totalItems!==t.length,o=this.createInstance(t,r),l=o.id,m=o.itemsPerPage,y=this.service.register(o);if(!a&&t instanceof Array){if(m=+m||G,c=(o.currentPage-1)*m,g=c+m,this.stateIsIdentical(l,t,c,g))return this.state[l].slice;{let k=t.slice(c,g);return this.saveState(l,t,k,c,g),this.service.change.emit(l),k}}return y&&this.service.change.emit(l),this.saveState(l,t,t,c,g),t}createInstance(t,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||t.length}}checkConfig(t){const a=["itemsPerPage","currentPage"].filter(o=>!(o in t));if(0<a.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${a.join(", ")}`)}saveState(t,r,a,o,l){this.state[t]={collection:r,size:r.length,slice:a,start:o,end:l}}stateIsIdentical(t,r,a,o){let l=this.state[t];return!(!l||l.size!==r.length||l.start!==a||l.end!==o)&&l.slice.every((g,m)=>g===r[a+m])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I,16))},i.\u0275pipe=e.Yjl({name:"paginate",type:i,pure:!1}),i})(),H=(()=>{class i{constructor(t,r){this.service=t,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new e.vpe,this.pageBoundsCorrection=new e.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(a=>{this.id===a&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const r=Math.ceil(t.totalItems/t.itemsPerPage);return r<t.currentPage&&0<r?r:t.currentPage<1?1:t.currentPage}createPageArray(t,r,a,o){o=+o;let l=[];const c=Math.max(Math.ceil(a/r),1),g=Math.ceil(o/2),m=t<=g,y=c-g<t,x=!m&&!y;let k=o<c,C=1;for(;C<=c&&C<=o;){let N,q=this.calculatePageNumber(C,t,o,c);N=k&&(2===C&&(x||y)||C===o-1&&(x||m))?"...":q,l.push({label:N,value:q}),C++}return l}calculatePageNumber(t,r,a,o){let l=Math.ceil(a/2);return t===a?o:1===t?t:a<o?o-l<r?o-a+t:l<r?r-l+t:t:t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(I),e.Y36(e.sBO))},i.\u0275dir=e.lG2({type:i,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[e.TTD]}),i})();function S(i){return!!i&&"false"!==i}let K=(()=>{class i{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new e.vpe,this.pageBoundsCorrection=new e.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=S(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=S(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=S(t)}trackByIndex(t){return t}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(e.TgZ(0,"pagination-template",0,1),e.NdJ("pageChange",function(o){return r.pageChange.emit(o)})("pageBoundsCorrection",function(o){return r.pageBoundsCorrection.emit(o)}),e.TgZ(2,"nav",2),e.YNc(3,$,6,8,"ul",3),e.qZA()()),2&t){const a=e.MAs(1);e.Q6J("id",r.id)("maxSize",r.maxSize),e.xp6(2),e.uIk("aria-label",r.screenReaderPaginationLabel),e.xp6(1),e.Q6J("ngIf",!(r.autoHide&&a.pages.length<=1))}},dependencies:[H,p.O5,p.sg,p.JJ],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),i})(),V=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[I],imports:[[p.ez]]}),i})();const F=function(i){return["/admin/subscriber/",i]};function X(i,n){if(1&i&&(e.O4$(),e.kcU(),e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"h5",13),e._uU(4),e.qZA(),e.TgZ(5,"p",14),e._uU(6),e.qZA(),e.TgZ(7,"p",14),e._uU(8),e.qZA(),e.TgZ(9,"button",15),e._uU(10," Edit "),e.qZA(),e.TgZ(11,"button",16),e._uU(12," Delete "),e.qZA()()()()),2&i){const t=n.$implicit;e.xp6(4),e.Oqu(t.Name),e.xp6(2),e.Oqu(t.CountryName),e.xp6(2),e.Oqu(t.PhoneNumber),e.xp6(1),e.Q6J("routerLink",e.VKq(5,F,t.Id)),e.xp6(2),e.Q6J("routerLink",e.VKq(7,F,t.Id))}}const W=function(){return["/admin/add/subscriber"]},ee=function(i,n){return{itemsPerPage:8,currentPage:i,totalItems:n}};class A{constructor(n){this.dataService=n,this.subscribers=[],this.allSubscribers=0,this.pagination=1}ngOnInit(){this.fetchSubscribers()}fetchSubscribers(){this.dataService.getSubscribers(this.pagination).subscribe(n=>{this.subscribers=n.Data,this.allSubscribers=n.Count})}renderPage(n){this.pagination=n,this.fetchSubscribers()}}A.\u0275fac=function(n){return new(n||A)(e.Y36(h))},A.\u0275cmp=e.Xpm({type:A,selectors:[["app-subscribers"]],decls:15,vars:9,consts:[[1,"container","text-center"],[1,"row"],[1,"col-md-12"],["type","button",1,"btn","btn-primary",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],[3,"pageChange"],[1,"col-md-3"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["type","button",1,"btn","btn-outline-primary",3,"routerLink"],["type","button",1,"btn","btn-outline-danger",3,"routerLink"]],template:function(n,t){1&n&&(e._UZ(0,"app-navbar-admin"),e.TgZ(1,"div",0)(2,"div"),e._uU(3,"\xa0"),e.qZA(),e.TgZ(4,"div",1)(5,"div",2)(6,"button",3),e.O4$(),e.TgZ(7,"svg",4),e._UZ(8,"path",5)(9,"path",6),e.qZA(),e._uU(10," Add subscribers "),e.qZA()(),e.YNc(11,X,13,9,"div",7),e.ALo(12,"paginate"),e.qZA()(),e.kcU(),e.TgZ(13,"div",8)(14,"pagination-controls",9),e.NdJ("pageChange",function(a){return t.renderPage(a)}),e.qZA()()),2&n&&(e.xp6(6),e.Q6J("routerLink",e.DdM(5,W)),e.xp6(5),e.Q6J("ngForOf",e.xi3(12,2,t.subscribers,e.WLB(6,ee,t.pagination,t.allSubscribers))))},dependencies:[p.sg,b.rH,f,K,j],styles:[".card[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem;width:18rem}"]});var s=u(433);function te(i,n){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.Code)}}class Z{constructor(n,t,r){this.router=n,this.dataService=t,this.fb=r,this.subscriber=[],this.id=0,this.codes=[],this.subscriberForm=this.fb.group({Name:["",s.kI.required],Email:[""],CountryCode:[""],PhoneNumber:[""],JobTitle:[""],Area:[""],Topics:[""]})}ngOnInit(){this.id=this.router.url.split("/")[3],this.fetchSubscriber(),this.getCodes()}fetchSubscriber(){this.dataService.getSubscriber(this.id).subscribe(n=>{this.subscriber=n,this.subscriber&&this.subscriberForm?.patchValue(this.subscriber)})}onSubmit(){const n=this.subscriberForm.get("Email"),t=this.subscriberForm.get("CountryCode");(""!=n?.value||""!=t?.value&&this.subscriberForm.valid)&&this.dataService.updateSubscriber(this.subscriberForm.value,this.id).subscribe(a=>{this.router.navigate(["/admin/subscribers"])},a=>{console.error(a.error.error)})}getCodes(){this.dataService.getCodes().subscribe(n=>{this.codes=n.Data})}}function ne(i,n){if(1&i&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&i){const t=n.$implicit;e.xp6(1),e.Oqu(t.Code)}}function ie(i,n){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",5)(2,"div",6),e._UZ(3,"input",7),e.TgZ(4,"label",8),e._uU(5,"Name"),e.qZA()(),e.TgZ(6,"div",6),e._UZ(7,"input",9),e.TgZ(8,"label",10),e._uU(9,"Email"),e.qZA()(),e.TgZ(10,"div",6)(11,"select",11)(12,"option",12),e._uU(13,"Choose your city"),e.qZA(),e.YNc(14,ne,2,1,"option",2),e.qZA(),e.TgZ(15,"label",13),e._uU(16,"CountryCode"),e.qZA()(),e.TgZ(17,"div",6),e._UZ(18,"input",14),e.TgZ(19,"label",15),e._uU(20,"PhoneNumber"),e.qZA()(),e.TgZ(21,"div",6),e._UZ(22,"input",16),e.TgZ(23,"label",17),e._uU(24,"JobTitle"),e.qZA()(),e.TgZ(25,"div",6),e._UZ(26,"input",18),e.TgZ(27,"label",17),e._uU(28,"Area"),e.qZA()(),e.TgZ(29,"div",6),e._UZ(30,"input",19),e.TgZ(31,"label",17),e._uU(32,"Topics"),e.qZA()(),e.TgZ(33,"button",20),e.NdJ("click",function(){const o=e.CHM(t).index,l=e.oxw();return e.KtG(l.removeSkill(o))}),e._uU(34," Remove "),e.qZA()(),e._UZ(35,"hr"),e.qZA()}if(2&i){const t=n.index,r=e.oxw();e.xp6(1),e.Q6J("formGroupName",t),e.xp6(13),e.Q6J("ngForOf",r.codes)}}Z.\u0275fac=function(n){return new(n||Z)(e.Y36(b.F0),e.Y36(h),e.Y36(s.qu))},Z.\u0275cmp=e.Xpm({type:Z,selectors:[["app-subscriber"]],decls:37,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"form-outline","mb-4"],["type","text","id","form6Example3","formControlName","Name",1,"form-control"],["for","form6Example3",1,"form-label"],["type","text","id","form6Example4","formControlName","Email",1,"form-control"],["for","form6Example4",1,"form-label"],["formControlName","CountryCode",1,"custom-select","form-control"],["value",""],[4,"ngFor","ngForOf"],["for","form6Example5",1,"form-label"],["type","number","id","form6Example6","formControlName","PhoneNumber",1,"form-control"],["for","form6Example6",1,"form-label"],["id","form6Example7","rows","4","formControlName","JobTitle",1,"form-control"],["for","form6Example7",1,"form-label"],["id","form6Example7","rows","4","formControlName","Area",1,"form-control"],["id","form6Example7","rows","4","formControlName","Topics",1,"form-control"],["type","submit",1,"w-100","btn","btn-primary","btn-block","mb-4"]],template:function(n,t){1&n&&(e._UZ(0,"app-navbar-admin"),e.TgZ(1,"div"),e._uU(2,"\xa0"),e.qZA(),e.TgZ(3,"form",0),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(4,"div",1),e._UZ(5,"input",2),e.TgZ(6,"label",3),e._uU(7,"Name"),e.qZA()(),e.TgZ(8,"div",1),e._UZ(9,"input",4),e.TgZ(10,"label",5),e._uU(11,"Email"),e.qZA()(),e.TgZ(12,"div",1)(13,"select",6)(14,"option",7),e._uU(15,"Choose your city"),e.qZA(),e.YNc(16,te,2,1,"option",8),e.qZA(),e.TgZ(17,"label",9),e._uU(18,"CountryCode"),e.qZA()(),e.TgZ(19,"div",1),e._UZ(20,"input",10),e.TgZ(21,"label",11),e._uU(22,"PhoneNumber"),e.qZA()(),e.TgZ(23,"div",1),e._UZ(24,"input",12),e.TgZ(25,"label",13),e._uU(26,"JobTitle"),e.qZA()(),e.TgZ(27,"div",1),e._UZ(28,"input",14),e.TgZ(29,"label",13),e._uU(30,"Area"),e.qZA()(),e.TgZ(31,"div",1),e._UZ(32,"input",15),e.TgZ(33,"label",13),e._uU(34,"Topics"),e.qZA()(),e.TgZ(35,"button",16),e._uU(36," Submit "),e.qZA()()),2&n&&(e.xp6(3),e.Q6J("formGroup",t.subscriberForm),e.xp6(13),e.Q6J("ngForOf",t.codes))},dependencies:[p.sg,f,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u]});class P{constructor(n,t,r){this.fb=n,this.dataService=t,this.router=r,this.title="FormArray Example in Angular Reactive forms",this.codes=[],this.subscribersForm=this.fb.group({subscribers:this.fb.array([])})}get subscribers(){return this.subscribersForm.get("subscribers")}ngOnInit(){this.getCodes()}newSkill(){return this.fb.group({Name:"",Email:"",CountryCode:"",PhoneNumber:"",JobTitle:"",Area:"",Topics:[[]]})}getCodes(){this.dataService.getCodes().subscribe(n=>{this.codes=n.Data})}addsubscribers(){this.subscribers.push(this.newSkill())}removeSkill(n){this.subscribers.removeAt(n)}onSubmit(){const n=this.subscribersForm.get("Email"),t=this.subscribersForm.get("CountryCode"),a=(this.subscribersForm.get("Topics"),this.subscribersForm.value);console.log(a),(""!=n?.value||""!=t?.value&&this.subscribersForm.valid)&&this.dataService.createSubscriber(a).subscribe(o=>{this.router.navigate(["/admin/subscribers"])},o=>{console.error(o.error.error)})}}P.\u0275fac=function(n){return new(n||P)(e.Y36(s.qu),e.Y36(h),e.Y36(b.F0))},P.\u0275cmp=e.Xpm({type:P,selectors:[["app-add"]],decls:12,vars:5,consts:[[3,"formGroup","ngSubmit"],["formArrayName","subscribers"],[4,"ngFor","ngForOf"],["type","submit",1,"w-100","btn","btn-primary","btn-block","mb-4"],["type","button",1,"w-100","btn","btn-primary","btn-block","mb-4",3,"click"],[3,"formGroupName"],[1,"form-outline","mb-4"],["type","text","id","form6Example3","formControlName","Name",1,"form-control"],["for","form6Example3",1,"form-label"],["type","text","id","form6Example4","formControlName","Email",1,"form-control"],["for","form6Example4",1,"form-label"],["formControlName","CountryCode",1,"custom-select","form-control"],["value",""],["for","form6Example5",1,"form-label"],["type","number","id","form6Example6","formControlName","PhoneNumber",1,"form-control"],["for","form6Example6",1,"form-label"],["id","form6Example7","rows","4","formControlName","JobTitle",1,"form-control"],["for","form6Example7",1,"form-label"],["id","form6Example7","rows","4","formControlName","Area",1,"form-control"],["id","form6Example7","rows","4","formControlName","Topics",1,"form-control"],["type","button",1,"w-100","btn","btn-outline-danger","btn-block","mb-4",3,"click"]],template:function(n,t){1&n&&(e._UZ(0,"app-navbar-admin"),e.TgZ(1,"div"),e._uU(2,"\xa0"),e.qZA(),e.TgZ(3,"form",0),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(4,"div",1),e.YNc(5,ie,36,2,"div",2),e.qZA(),e.TgZ(6,"button",3),e._uU(7," Submit "),e.qZA()(),e.TgZ(8,"button",4),e.NdJ("click",function(){return t.addsubscribers()}),e._uU(9," Add\n"),e.qZA(),e._uU(10),e.ALo(11,"json")),2&n&&(e.xp6(3),e.Q6J("formGroup",t.subscribersForm),e.xp6(2),e.Q6J("ngForOf",t.subscribers.controls),e.xp6(5),e.hij(" ",e.lcZ(11,3,t.subscribersForm.value),"\n"))},dependencies:[p.sg,f,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.sg,s.u,s.x0,s.CE,p.Ts]});const re=[{path:"",redirectTo:"subscribers",pathMatch:"full"},{path:"subscribers",component:A,canActivate:[d]},{path:"subscriber/:id",component:Z,canActivate:[d]},{path:"add/subscriber",component:P,canActivate:[d]}];class _{}_.\u0275fac=function(n){return new(n||_)},_.\u0275mod=e.oAB({type:_}),_.\u0275inj=e.cJS({providers:[d],imports:[b.Bz.forChild(re),b.Bz]});var ae=u(9270);class v{}v.\u0275fac=function(n){return new(n||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({imports:[p.ez,_,ae.I,L.JF,V,s.UX]})}}]);